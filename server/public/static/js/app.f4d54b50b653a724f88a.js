webpackJsonp([1],{"+Cxe":function(e,t){},"0AzE":function(e,t){},"18qH":function(e,t){},"2DB3":function(e,t){},"2xmG":function(e,t){},"5ip+":function(e,t){},"5kxi":function(e,t){},CuRo:function(e,t){},FVuk:function(e,t){},NCQR:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("0AzE"),a("CuRo");var r,o=a("7+uW"),l=a("9rMa"),n=(a("6LYt"),{id:"",name:"",mobile:"",token:null}),s=a("mUbh"),i=a("UjVw"),u=a("bOdI"),c=a.n(u),m=(r={},c()(r,"login",function(e,t){localStorage.setItem("id",t.id),localStorage.setItem("name",t.name),localStorage.setItem("mobile",t.mobile),localStorage.setItem("token",t.token),e.id=t.id,e.name=t.name,e.mobile=t.mobile,e.token=t.token}),c()(r,"logout",function(e){localStorage.removeItem("id"),localStorage.removeItem("name"),localStorage.removeItem("mobile"),localStorage.removeItem("token"),e.id="",e.name="",e.mobile="",e.token=""}),r);o.default.use(l.a);var d=new l.a.Store({state:n,mutations:m,getters:i,actions:s,strict:!1,plugin:[]}),p=a("//Fk"),v=a.n(p),g=a("aozt"),f=a.n(g),b=a("/ocq"),h={name:"TopHeader",data:function(){return{id:"",mobile:"",name:""}},methods:{quit:function(){this.$store.commit("logout"),this.$router.push({name:"Login"})}},mounted:function(){this.id=localStorage.getItem("id"),this.name=localStorage.getItem("name"),this.mobile=localStorage.getItem("mobile")}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",[a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("router-link",{attrs:{to:{name:"Password",params:{id:e.id,mobile:e.mobile}},tag:"span"}},[e._v("\n          修改密码\n        ")])],1),e._v(" "),a("el-dropdown-item",[a("span",{on:{click:e.quit}},[e._v("退出")])])],1)],1),e._v(" "),a("span",[e._v(e._s(e.name))])],1)},staticRenderFns:[]};var y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",{attrs:{width:"200px"}},[a("el-menu",{attrs:{router:!0,"unique-opened":""}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-message"}),e._v("用户管理")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"TravelUserList"},index:"1-1"}},[e._v("旅行社")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"GuideUserList"},index:"1-2"}},[e._v("旅游行业从业者")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"MerchantUserList"},index:"1-3"}},[e._v("旅游行业企业")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"VisitorUserList"},index:"1-4"}},[e._v("散客")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"DriverUserList"},index:"1-5"}},[e._v("司机")])],2),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),e._v("景区管理")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"PlaceList"},index:"2-1"}},[e._v("景区")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"PlaceUserList"},index:"2-3"}},[e._v("景区人员列表")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"PlaceUserAdd"},index:"2-4"}},[e._v("添加景区人员")])],2),e._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v("计费管理")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"BillingList"},index:"3-1"}},[e._v("计费模板")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"BillingAdd"},index:"3-2"}},[e._v("计费添加")])],2),e._v(" "),a("el-submenu",{attrs:{index:"34"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-goods"}),e._v("预付费管理")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"PrepayList"},index:"34-1"}},[e._v("充值列表")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"PrepayAdd"},index:"34-2"}},[e._v("充值")])],2),e._v(" "),a("el-submenu",{attrs:{index:"35"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-news"}),e._v("优惠活动")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"CouponList"},index:"35-1"}},[e._v("优惠列表")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"CouponAdd"},index:"35-2"}},[e._v("优惠添加")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"CouponUserList"},index:"35-3"}},[e._v("散客领取")])],2),e._v(" "),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-date"}),e._v("订单管理")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"OrderList"},index:"4-1"}},[e._v("订单列表")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"OrderAdd"},index:"4-2"}},[e._v("添加线下订单")]),e._v(" "),a("el-menu-item",{attrs:{route:{name:"checkTicket"},index:"4-3"}},[e._v("验票")])],2)],1)],1)},staticRenderFns:[]};var x={name:"Main",methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}},data:function(){return{name:"王小虎"}},components:{TopHeader:a("VU/8")(h,_,!1,function(e){a("Zoxs")},"data-v-2f5b3fca",null).exports,LeftMenu:a("VU/8")({name:"LeftMenu",data:function(){return{msg:""}}},y,!1,function(e){a("jt/8")},"data-v-5a5efdd3",null).exports}},F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticStyle:{height:"100%"},attrs:{direction:"vertical"}},[t("TopHeader"),this._v(" "),t("el-container",[t("LeftMenu"),this._v(" "),t("el-main",[t("router-view")],1)],1)],1)},staticRenderFns:[]};var $=a("VU/8")(x,F,!1,function(e){a("cgPv")},null,null).exports,w={name:"Index",data:function(){return{msg:"登录成功！"+(new Date).toLocaleString()}}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome"},[t("h3",[this._v(this._s(this.msg))])])},staticRenderFns:[]};var D=a("VU/8")(w,k,!1,function(e){a("wjH3")},"data-v-645beb9b",null).exports,I={name:"LoginAdd",data:function(){return{ruleForm:{mobile:"",password:"",token:""},rules:{mobile:[{required:!0,message:"请填写手机号",trigger:"blur"}],password:[{required:!0,min:8,max:20,message:"长度在 8 到 20 个字符",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={mobile:t.ruleForm.mobile,password:t.ruleForm.password};t.$axios.post("/admin/user/login",a).then(function(e){200===e.status&&200===e.data.code?(t.$message({type:"success",message:"登录成功"}),t.$store.commit("login",e.data.data),t.$router.push({name:"Index"})):t.$message({type:"error",message:e.data.msg})}).catch(function(e){console.log("查询err:"),console.log(e),t.$message({type:"error",message:"登录失败"})})}})}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("p",{staticClass:"title"},[e._v("票务后台管理")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var P=a("VU/8")(I,S,!1,function(e){a("V17K")},"data-v-9eb19236",null).exports,N={name:"GuideUserList",data:function(){return{name:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={name:this.name};this.query(this,e)},authStatus:function(e,t,a){var r=this;if(!e||!a)return r.$message({type:"info",message:"此条数据有错误"});r.$confirm("请仔细审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.$axios.get("/admin/user/auth?id="+e+"&status="+a).then(function(e){200===e.status&&200===e.data.code?(r.tableData[t].status="pass"===a?1:5,r.$message({type:"success",message:"提交成功!"})):r.$message({type:"error",message:"提交失败"})})}).catch(function(){r.$message({type:"info",message:"已取消提交"})})},formatStatus:function(e,t,a){var r=e.status;return 1===r?"通过":5===r?"拒绝":"提交审核"},formatSex:function(e,t,a){var r="",o=e.sex;return 1===o?r="男":2===o?r="女":3===o&&(r="其他"),r},query:function(e,t){console.log(t),e.$axios.get("/admin/user/guideUserList",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",formatter:e.formatSex,label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idcard",label:"身份证"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creditCode",label:"导游证号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"travelName",label:"归属旅行社"}}),e._v(" "),a("el-table-column",{attrs:{label:"导游证图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.authPic,target:"_blank"}},[a("img",{staticStyle:{"max-width":"100px",height:"50px"},attrs:{src:e.row.authPic}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建日期"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"pass")}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"nopass")}}},[e._v("拒绝")]),e._v(" "),a("router-link",{attrs:{to:{name:"Password",params:{id:t.row.id,mobile:t.row.mobile}}}},[a("el-button",{attrs:{type:"warning",size:"small",title:"修改密码"}},[e._v("改密")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var q=a("VU/8")(N,T,!1,function(e){a("jSB/")},"data-v-92fdf546",null).exports,A={name:"MerchantUserList",data:function(){return{name:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={name:this.name};this.query(this,e)},authStatus:function(e,t,a){var r=this;if(!e||!a)return r.$message({type:"info",message:"此条数据有错误"});r.$confirm("请仔细审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.$axios.get("/admin/user/auth?id="+e+"&status="+a).then(function(e){200===e.status&&200===e.data.code?(r.tableData[t].status="pass"===a?1:5,r.$message({type:"success",message:"提交成功!"})):r.$message({type:"error",message:"提交失败"})})}).catch(function(){r.$message({type:"info",message:"已取消提交"})})},formatStatus:function(e,t,a){var r=e.status;return 1===r?"通过":5===r?"拒绝":"提交审核"},formatSex:function(e,t,a){var r="",o=e.sex;return 1===o?r="男":2===o?r="女":3===o&&(r="其他"),r},query:function(e,t){console.log(t),e.$axios.get("/admin/user/merchantUserList",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",formatter:e.formatSex,label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mark",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"商家信息证明图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.authPic,target:"_blank"}},[a("img",{staticStyle:{"max-width":"100px",height:"50px"},attrs:{src:e.row.authPic}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建日期"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"pass")}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"nopass")}}},[e._v("拒绝")]),e._v(" "),a("router-link",{attrs:{to:{name:"Password",params:{id:t.row.id,mobile:t.row.mobile}}}},[a("el-button",{attrs:{type:"warning",size:"small",title:"修改密码"}},[e._v("改密")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var L=a("VU/8")(A,C,!1,function(e){a("cMjv")},"data-v-614d596c",null).exports,O={name:"DriverUserList",data:function(){return{name:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={name:this.name};this.query(this,e)},authStatus:function(e,t,a){var r=this;if(!e||!a)return r.$message({type:"info",message:"此条数据有错误"});r.$confirm("请仔细审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.$axios.get("/admin/user/auth?id="+e+"&status="+a).then(function(e){200===e.status&&200===e.data.code?(r.tableData[t].status="pass"===a?1:5,r.$message({type:"success",message:"提交成功!"})):r.$message({type:"error",message:"提交失败"})})}).catch(function(){r.$message({type:"info",message:"已取消提交"})})},formatStatus:function(e,t,a){var r=e.status;return 1===r?"通过":5===r?"拒绝":"提交审核"},formatSex:function(e,t,a){var r="",o=e.sex;return 1===o?r="男":2===o?r="女":3===o&&(r="其他"),r},query:function(e,t){console.log(t),e.$axios.get("/admin/user/driverUserList",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",formatter:e.formatSex,label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idcard",label:"身份证"}}),e._v(" "),a("el-table-column",{attrs:{prop:"plateNumber",label:"车牌号"}}),e._v(" "),a("el-table-column",{attrs:{label:"驾驶证"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.authPic,target:"_blank"}},[a("img",{staticStyle:{"max-width":"100px",height:"50px"},attrs:{src:e.row.authPic}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditorName",label:"审核人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建日期"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"pass")}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"nopass")}}},[e._v("拒绝")]),e._v(" "),a("router-link",{attrs:{to:{name:"Password",params:{id:t.row.id,mobile:t.row.mobile}}}},[a("el-button",{attrs:{type:"warning",size:"small",title:"修改密码"}},[e._v("改密")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var z=a("VU/8")(O,U,!1,function(e){a("hgqO")},"data-v-45b30d82",null).exports,E={name:"TravelUserList",data:function(){return{name:"",tableData:[],totalNum:0}},filters:{formatSex:function(e){var t="";return 1===e?t="男":2===e?t="女":3===e&&(t="其他"),t}},methods:{getTablePageData:function(e){var t={name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={name:this.name};this.query(this,e)},authStatus:function(e,t,a){var r=this;if(!e||!a)return r.$message({type:"info",message:"此条数据有错误"});r.$confirm("请仔细审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.$axios.get("/admin/user/auth?id="+e+"&status="+a).then(function(e){200===e.status&&200===e.data.code?(r.tableData[t].status="pass"===a?1:5,r.$message({type:"success",message:"提交成功!"})):r.$message({type:"error",message:"提交失败"})})}).catch(function(){r.$message({type:"info",message:"已取消提交"})})},formatStatus:function(e,t,a){var r=e.status;return 1===r?"通过":5===r?"拒绝":"提交审核"},formatPrepay:function(e,t,a){var r="",o=e.isPrepay;return 1===o?r="是":2===o?r="否":3===o&&(r="未签约"),r},query:function(e,t){console.log(t),e.$axios.get("/admin/user/travelUserList",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("router-link",{attrs:{to:{name:"TravelUserAdd"}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:e.search}},[e._v("添加")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"旅行社地址："}},[a("span",[e._v(e._s(t.row.orgAddr))])]),e._v(" "),a("el-form-item",{attrs:{label:"性别："}},[a("span",[e._v(e._s(t.row.sex||e.formatSex))])]),e._v(" "),a("el-form-item",{attrs:{label:"统一社会信用代码："}},[a("span",[e._v(e._s(t.row.creditCode))])]),e._v(" "),a("el-form-item",{attrs:{label:"审核人："}},[a("span",[e._v(e._s(t.row.auditorName))])]),e._v(" "),a("el-form-item",{attrs:{label:"创建日期："}},[a("span",[e._v(e._s(t.row.time))])]),e._v(" "),a("el-form-item",{attrs:{label:"审核日期："}},[a("span",[e._v(e._s(t.row.auditTime))])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isPrepay",formatter:e.formatPrepay,label:"是否预付费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prepay",label:"累计金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"余额"}}),e._v(" "),a("el-table-column",{attrs:{label:"营业执照照片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.authPic,target:"_blank"}},[a("img",{staticStyle:{"max-width":"100px",height:"50px"},attrs:{src:e.row.authPic}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{width:"200",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"pass")}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"nopass")}}},[e._v("拒绝")]),e._v(" "),a("router-link",{attrs:{to:{name:"TravelUserAdd",params:{id:t.row.id,row:t.row}}}},[a("el-button",{attrs:{type:"warning",size:"small"}},[e._v("编辑")])],1),e._v(" "),a("router-link",{attrs:{to:{name:"Password",params:{id:t.row.id,mobile:t.row.mobile}}}},[a("el-button",{attrs:{type:"primary",size:"small",title:"修改密码"}},[e._v("改密")])],1),e._v(" "),a("router-link",{attrs:{to:{name:"PrepayAdd",params:{userId:t.row.id,row:t.row}}}},[a("el-button",{attrs:{type:"danger",size:"small"}},[e._v("充值")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var M=a("VU/8")(E,R,!1,function(e){a("vYTE")},"data-v-606e5660",null).exports,B={name:"VisitorUserList",data:function(){return{name:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={name:this.name};this.query(this,e)},del:function(e,t){var a=this;a.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.get("/admin/user/delete/"+e).then(function(e){200===e.status&&200===e.data.code?(a.tableData.splice(t,1),a.$message({type:"success",message:"删除成功!"})):a.$message({type:"error",message:"删除失败"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},formatStatus:function(e,t,a){var r="",o=e.status;return 1===o?r="可用":5===o&&(r="禁用"),r},formatSex:function(e,t,a){var r="",o=e.sex;return 1===o?r="男":2===o?r="女":3===o&&(r="其他"),r},query:function(e,t){console.log(t),e.$axios.get("/admin/user/visitorUserList",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",formatter:e.formatSex,label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idcard",label:"身份证"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建日期"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"Password",params:{id:t.row.id,mobile:t.row.mobile}}}},[a("el-button",{attrs:{type:"warning",size:"small",title:"修改密码"}},[e._v("改密")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var W=a("VU/8")(B,V,!1,function(e){a("ZcEO")},"data-v-11329997",null).exports,j={name:"TravelUserAdd",data:function(){var e=this;return{pageStatus:"add",loading:!1,setHeaders:{Authorization:"Bearer "+this.$store.state.token},ruleForm:{orgAddr:"",mobile:"",password:"",name:"",sex:"",isPrepay:"",creditCode:"",authPic:""},rules:{orgAddr:[{required:!0,message:"请输入旅行社地址",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(t,a,r){var o=e;if(!a)return r(new Error("手机号不能为空"));var l=a.toString();if(!/^1\d{10}$/.test(l))return r(new Error("填写正确的手机号"));o.$axios.get("/admin/user/checkMobile/?pageStatus="+o.pageStatus+"&mobile="+l).then(function(e){return 200===e.status&&200===e.data.code?r():r(new Error(e.data.msg))}).catch(function(e){return r(e)})},trigger:"blur"}],password:[{validator:function(t,a,r){return"edit"===e.pageStatus?r():a?a.length<8||a.length>20?r(new Error("密码长度在 8 - 20 位")):r():r(new Error("密码不能为空"))},trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],isPrepay:[{required:!0,message:"请选择",trigger:"blur"}],creditCode:[{required:!0,message:"请填写统一社会信用代码",trigger:"blur"},{min:18,max:18,message:"18位",trigger:"blur"}],authPic:[{required:!0,message:"请上传",trigger:"blur"}]},id:"",fileListF:[],setDisabled:!1,optionsSex:[{value:1,label:"男"},{value:2,label:"女"},{value:3,label:"其他"}],optionsIsPrepay:[{value:1,label:"是"},{value:2,label:"否"},{value:3,label:"未签约"}]}},beforeMount:function(){this.pageStatus="add",this.id=this.$route.params.id,this.row=this.$route.params.row,this.id&&(console.log("id:",this.id),this.pageStatus="edit",this.setDisabled=!0,this.ruleForm=this.row,this.row.authPic&&(this.fileListF=[{name:this.row.authPic,url:this.row.authPic}]))},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={id:t.id||"",orgAddr:t.ruleForm.orgAddr,mobile:t.ruleForm.mobile,password:t.ruleForm.password,name:t.ruleForm.name,sex:t.ruleForm.sex,isPrepay:t.ruleForm.isPrepay,creditCode:t.ruleForm.creditCode,authPic:t.ruleForm.authPic,status:-1};console.log(a);var r="/admin/user/travelAdd";t.id&&(r="/admin/user/edit"),t.$axios.post(r,a).then(function(e){200===e.status&&200===e.data.code?(t.$message({type:"success",message:"保存成功"}),t.$router.push({name:"TravelUserList"})):t.$message({type:"error",message:"添加失败"})}).catch(function(e){console.log("查询err:"),console.log(e),t.$message({type:"error",message:"保存失败"})})}})},handleRemoveF:function(e,t){console.log("handleRemoveF:"),console.log("file"),console.log(e),console.log("fileList"),console.log(t),this.ruleForm.authPic=""},handlePreview:function(e){console.log("handlePreview:"),console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},uploadSuccessF:function(e,t,a){console.log("responseF:"),console.log(e),200===e.code?(console.log("upload ok"),this.ruleForm.authPic=e.data.relativeDir,this.$message({message:"上传成功！",type:"success"})):this.$message({message:e.msg,type:"error"})},uploadError:function(e,t,a){this.$message({message:"上传失败，请重试！",type:"error"}),console.log(e)},beforeUpload:function(e){console.log("file:"),console.log(e);var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<10;return t||this.$message.error("上传正确的格式!"),a||this.$message.error("文件大小不能超过 10MB!"),t&&a}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"旅行社",prop:"name"}},[a("el-input",{attrs:{placeholder:"旅行社名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"orgAddr"}},[a("el-input",{attrs:{placeholder:"旅行社地址"},model:{value:e.ruleForm.orgAddr,callback:function(t){e.$set(e.ruleForm,"orgAddr",t)},expression:"ruleForm.orgAddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",disabled:e.setDisabled,placeholder:""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},e._l(e.optionsSex,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"是否预付费",prop:"isPrepay"}},[a("el-select",{model:{value:e.ruleForm.isPrepay,callback:function(t){e.$set(e.ruleForm,"isPrepay",t)},expression:"ruleForm.isPrepay"}},e._l(e.optionsIsPrepay,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"统一社会信用代码",prop:"creditCode"}},[a("el-input",{model:{value:e.ruleForm.creditCode,callback:function(t){e.$set(e.ruleForm,"creditCode",t)},expression:"ruleForm.creditCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"营业执照",prop:"authPic"}},[a("el-upload",{staticClass:"upload",attrs:{action:"/admin/user/upload",headers:e.setHeaders,"on-preview":e.handlePreview,"on-remove":e.handleRemoveF,"before-upload":e.beforeUpload,"on-error":e.uploadError,"on-success":e.uploadSuccessF,name:"image",limit:1,"list-type":"picture","on-exceed":e.handleExceed,"file-list":e.fileListF}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("点击上传\n        "),a("i",{staticClass:"el-icon-upload el-icon--right"})]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传 jpg, png")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var Y=a("VU/8")(j,H,!1,function(e){a("uP7M")},"data-v-868cdc82",null).exports,G={name:"PrepayList",data:function(){return{name:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={name:this.name};this.query(this,e)},authStatus:function(e,t,a,r){var o=this;return 1===r?o.$message({type:"error",message:"已经审核通过，不能在修改"}):e&&a?void o.$confirm("请仔细审核, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.$axios.get("/admin/prepay/auth?id="+e+"&status="+a).then(function(e){200===e.status&&200===e.data.code?(o.tableData[t].status="pass"===a?1:5,o.$message({type:"success",message:"提交成功!"})):o.$message({type:"error",message:"提交失败"})})}).catch(function(){o.$message({type:"info",message:"已取消提交"})}):o.$message({type:"info",message:"此条数据有错误"})},formatStatus:function(e,t,a){var r=e.status;return 1===r?"通过":5===r?"拒绝":"提交审核"},query:function(e,t){console.log(t),e.$axios.get("/admin/prepay/list",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"旅行社名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"income",label:"充值金额/元"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rechargeTime",label:"充值时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operatorName",label:"操作者"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatStatus,label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"pass",t.row.status)}}},[e._v("通过\n        ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.authStatus(t.row.id,t.$index,"nopass",t.row.status)}}},[e._v("拒绝\n        ")])]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var Z=a("VU/8")(G,Q,!1,function(e){a("NCQR")},"data-v-0b104444",null).exports,K={name:"PrepayAdd",data:function(){return{loading:!1,ruleForm:{userId:"",income:"",rechargeTime:""},rules:{userId:[{required:!0,message:"请输入名称",trigger:"blur"}],income:[{required:!0,message:"请输入金额",trigger:"blur"}],rechargeTime:[{required:!0,message:"请输入充值时间",trigger:"blur"}]},id:"",placeOption:[]}},beforeMount:function(){this.ruleForm.userId=this.$route.params.userId,this.row=this.$route.params.row,this.ruleForm.userId&&(this.placeOption=[{value:this.row.id,label:this.row.name}])},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={id:t.id||"",userId:t.ruleForm.userId,income:t.ruleForm.income,rechargeTime:t.ruleForm.rechargeTime,status:-1};console.log(a);var r="/admin/prepay/add";t.id&&(r="/admin/prepay/edit"),t.$axios.post(r,a).then(function(e){200===e.status&&200===e.data.code?(t.$message({type:"success",message:"保存成功"}),t.$router.push({name:"PrepayList"})):t.$message({type:"error",message:"添加失败"})}).catch(function(e){console.log("查询err:"),console.log(e),t.$message({type:"error",message:"保存失败"})})}else t.$message({type:"error",message:"保存失败"})})},travelRemoteMethod:function(e){console.log(e);var t=this;if(e){var a="/admin/prepay/orgName/"+e;t.$axios.get(a).then(function(e){if(200===e.data.code){console.log(e.data.data);var a=e.data.data;t.placeOption=a.map(function(e){return{value:e.id,label:e.name}})}else console.log(e.data)}).catch(function(e){console.log(e)})}}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"旅行社",prop:"userId"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"输入旅行社名称：模糊查询","remote-method":e.travelRemoteMethod,loading:e.loading},model:{value:e.ruleForm.userId,callback:function(t){e.$set(e.ruleForm,"userId",t)},expression:"ruleForm.userId"}},e._l(e.placeOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"金额/元",prop:"income"}},[a("el-input",{model:{value:e.ruleForm.income,callback:function(t){e.$set(e.ruleForm,"income",e._n(t))},expression:"ruleForm.income"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"充值时间",prop:"rechargeTime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.ruleForm.rechargeTime,callback:function(t){e.$set(e.ruleForm,"rechargeTime",t)},expression:"ruleForm.rechargeTime"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var X=a("VU/8")(K,J,!1,function(e){a("RIiA")},"data-v-1ecc311f",null).exports,ee={name:"Password",data:function(){return{ruleForm:{id:"",mobile:"",password:""},rules:{password:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:8,max:20,message:"长度在 8 到 20 个字符",trigger:"blur"}]}}},beforeMount:function(){this.ruleForm.id=this.$route.params.id,this.ruleForm.mobile=this.$route.params.mobile,console.log(this.ruleForm.id)},methods:{submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(e){var a={id:t.ruleForm.id,mobile:t.ruleForm.mobile,password:t.ruleForm.password};t.$axios.post("/admin/user/password",a).then(function(e){200===e.status&&200===e.data.code?(t.ruleForm.password="",t.$message({type:"success",message:"提交成功"})):t.$message({type:"error",message:"提交失败"})}).catch(function(e){console.log(e),t.$message({type:"error",message:"提交失败"})})}else t.$message({type:"error",message:"提交失败"})})}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新密码",prop:"password"}},[a("el-input",{model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var ae=a("VU/8")(ee,te,!1,function(e){a("wB4W")},"data-v-dad8d77c",null).exports,re={name:"PlaceList",data:function(){return{name:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};console.log(t);var a=this;a.$axios.get("/admin/place/list",{params:t}).then(function(e){console.log("查询ok"),200===e.status&&200===e.data.code?(a.tableData=e.data.data.tableData,a.totalNum=e.data.data.totalNum):(a.tableData=[],a.totalNum=0)}).catch(function(e){console.log("查询err: "+e),a.tableData=[],a.totalNum=0})},search:function(){var e={name:this.name};console.log(e);var t=this;t.$axios.get("/admin/place/list",{params:e}).then(function(e){console.log("查询ok"),200===e.status&&200===e.data.code?(t.tableData=e.data.data.tableData,t.totalNum=e.data.data.totalNum):(t.tableData=[],t.totalNum=0)}).catch(function(e){console.log("查询err: "+e),t.tableData=[],t.totalNum=0})},del:function(e,t){var a=this;a.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.get("/admin/user/delete/"+e).then(function(e){200===e.status&&200===e.data.code?(a.tableData.splice(t,1),a.$message({type:"success",message:"删除成功!"})):a.$message({type:"error",message:"删除失败"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},formatLevel:function(e,t,a){var r="",o=e.level;return 1===o?r="1A":2===o?r="2A":3===o?r="3A":4===o?r="4A":5===o&&(r="5A"),r},formatStatus:function(e,t,a){var r="",o=e.status;return 1===o?r="启用":5===o&&(r="禁用"),r}},mounted:function(){var e=this;e.$axios.get("/admin/place/list").then(function(t){200===t.status&&200===t.data.code&&(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum)})}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addr",label:"地点"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"level",formatter:e.formatLevel,label:"等级"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"是否启用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appid",label:"小程序appid"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ctime",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"PlaceAdd",params:{id:t.row.id,row:t.row}}}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("编辑")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var le=a("VU/8")(re,oe,!1,function(e){a("YCYT")},"data-v-d1ee0b94",null).exports,ne={name:"PlaceAdd",data:function(){return{ruleForm:{name:"",addr:"",mobile:"",level:"",appid:"",status:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],addr:[{required:!0,message:"请输入地点",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系电话",trigger:"blur"}],appid:[{required:!0,message:"请输入小程序appid",trigger:"blur"}],level:[{required:!0,message:"请选择等级",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},id:"",optionsLevel:[{value:1,label:"1A"},{value:2,label:"2A"},{value:3,label:"3A"},{value:4,label:"4A"},{value:5,label:"5A"}],optionsStatus:[{value:1,label:"启用"},{value:5,label:"禁用"}]}},beforeMount:function(){this.id=this.$route.params.id,this.row=this.$route.params.row,this.id&&(this.ruleForm=this.row)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={id:t.id||"",name:t.ruleForm.name,addr:t.ruleForm.addr,mobile:t.ruleForm.mobile,level:t.ruleForm.level,appid:t.ruleForm.appid,status:t.ruleForm.status};console.log(a);var r="/admin/place/add";t.id&&(r="/admin/place/edit"),t.$axios.post(r,a).then(function(e){200===e.status&&200===e.data.code?(t.$message({type:"success",message:"添加成功"}),t.$router.push({name:"PlaceList"})):t.$message({type:"error",message:"添加失败"})}).catch(function(e){console.log("查询err:"),console.log(e),t.$message({type:"error",message:"添加失败"})})}else t.$message({type:"error",message:"提交失败"})})},resetForm:function(e){this.$refs[e].resetFields()}}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地点",prop:"addr"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.addr,callback:function(t){e.$set(e.ruleForm,"addr",t)},expression:"ruleForm.addr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话",prop:"mobile"}},[a("el-input",{model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"小程序appid",prop:"appid"}},[a("el-input",{model:{value:e.ruleForm.appid,callback:function(t){e.$set(e.ruleForm,"appid",t)},expression:"ruleForm.appid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"等级",prop:"level"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.level,callback:function(t){e.$set(e.ruleForm,"level",t)},expression:"ruleForm.level"}},e._l(e.optionsLevel,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.optionsStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var ie=a("VU/8")(ne,se,!1,function(e){a("r/RM")},"data-v-aa0a852c",null).exports,ue={name:"PlaceUserList",data:function(){return{name:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={name:this.name};this.query(this,e)},del:function(e,t){var a=this;a.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.get("/admin/user/delete/"+e).then(function(e){200===e.status&&200===e.data.code?(a.tableData.splice(t,1),a.$message({type:"success",message:"删除成功!"})):a.$message({type:"error",message:"删除失败"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},formatStatus:function(e,t,a){var r="",o=e.status;return 1===o?r="在岗启用":5===o&&(r="离岗禁用"),r},formatSex:function(e,t,a){var r="",o=e.sex;return 1===o?r="男":2===o?r="女":3===o&&(r="其他"),r},query:function(e,t){console.log(t),e.$axios.get("/admin/user/placeUserList",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"parentName",label:"景区"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",formatter:e.formatSex,label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"PlaceUserAdd",params:{id:t.row.id,row:t.row}}}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("编辑")])],1),e._v(" "),a("router-link",{attrs:{to:{name:"Password",params:{id:t.row.id,mobile:t.row.mobile}}}},[a("el-button",{attrs:{type:"warning",size:"small",title:"修改密码"}},[e._v("改密")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var me=a("VU/8")(ue,ce,!1,function(e){a("wBCO")},"data-v-3c73d1b0",null).exports,de={name:"PlaceUserAdd",data:function(){var e=this;return{pageStatus:"add",loading:!1,ruleForm:{parent:"",mobile:"",password:"",name:"",sex:"",status:""},rules:{parent:[{required:!0,message:"请输入名称",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(t,a,r){var o=e;if(!a)return r(new Error("手机号不能为空"));var l=a.toString();if(!/^1\d{10}$/.test(l))return r(new Error("填写正确的手机号"));o.$axios.get("/admin/user/checkMobile/?pageStatus="+o.pageStatus+"&mobile="+l).then(function(e){return 200===e.status&&200===e.data.code?r():r(new Error(e.data.msg))}).catch(function(e){return r(e)})},trigger:"blur"}],password:[{validator:function(t,a,r){return"edit"===e.pageStatus?r():a?a.length<8||a.length>20?r(new Error("密码长度在 8 - 20 位")):r():r(new Error("密码不能为空"))},trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},id:"",setDisabled:!1,placeOption:[],optionsSex:[{value:1,label:"男"},{value:2,label:"女"},{value:3,label:"其他"}],optionsStatus:[{value:1,label:"在岗启用"},{value:5,label:"离岗禁用"}]}},beforeMount:function(){this.pageStatus="add",this.id=this.$route.params.id,this.row=this.$route.params.row,this.id&&(this.pageStatus="edit",this.setDisabled=!0,this.ruleForm=this.row,this.placeOption=[{value:this.row.parent,label:this.row.parentName}]),this.placeRemoteMethod()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={id:t.id||"",parent:t.ruleForm.parent,mobile:t.ruleForm.mobile,password:t.ruleForm.password,name:t.ruleForm.name,sex:t.ruleForm.sex,status:t.ruleForm.status};console.log(a);var r="/admin/user/placeAdd";t.id&&(r="/admin/user/edit"),t.$axios.post(r,a).then(function(e){200===e.status&&200===e.data.code?(t.$message({type:"success",message:"保存成功"}),t.$router.push({name:"PlaceUserList"})):t.$message({type:"error",message:"添加失败"})}).catch(function(e){console.log("查询err:"),console.log(e),t.$message({type:"error",message:"保存失败"})})}else t.$message({type:"error",message:"保存失败"})})},placeRemoteMethod:function(){var e=this;e.$axios.get("/admin/place/getAll").then(function(t){if(200===t.data.code){console.log(t.data.data);var a=t.data.data;e.placeOption=a.map(function(e){return{value:e.id,label:e.name}})}else console.log(t.data)}).catch(function(e){console.log(e)})}}},pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",disabled:e.setDisabled,placeholder:""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},e._l(e.optionsSex,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.optionsStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"归属景区",prop:"parent"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.ruleForm.parent,callback:function(t){e.$set(e.ruleForm,"parent",t)},expression:"ruleForm.parent"}},e._l(e.placeOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var ve=a("VU/8")(de,pe,!1,function(e){a("xFaE")},"data-v-61366fb7",null).exports,ge={name:"CategoryList",data:function(){return{name:"",placeName:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={name:this.name,placeName:this.placeName,currentPage:e.currentPage,pageSize:e.pageSize};console.log(t);var a=this;a.$axios.get("/admin/category/list",{params:t}).then(function(e){console.log("查询ok"),200===e.status&&200===e.data.code?(a.tableData=e.data.data.tableData,a.totalNum=e.data.data.totalNum):(a.tableData=[],a.totalNum=0)}).catch(function(e){console.log("查询err: "+e),a.tableData=[],a.totalNum=0})},search:function(){var e={name:this.name,placeName:this.placeName};console.log(e);var t=this;t.$axios.get("/admin/category/list",{params:e}).then(function(e){console.log("查询ok"),200===e.status&&200===e.data.code?(t.tableData=e.data.data.tableData,t.totalNum=e.data.data.totalNum):(t.tableData=[],t.totalNum=0)}).catch(function(e){console.log("查询err: "+e),t.tableData=[],t.totalNum=0})},del:function(e,t){var a=this;a.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.get("/admin/user/delete/"+e).then(function(e){200===e.status&&200===e.data.code?(a.tableData.splice(t,1),a.$message({type:"success",message:"删除成功!"})):a.$message({type:"error",message:"删除失败"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}},mounted:function(){var e=this;e.$axios.get("/admin/category/list").then(function(t){200===t.status&&200===t.data.code&&(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum)})}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"分类名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-input",{attrs:{placeholder:"景区名称"},model:{value:e.placeName,callback:function(t){e.placeName=t},expression:"placeName"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"placeName",label:"景区名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operatorName",label:"操作者"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"CategoryAdd",params:{id:t.row.id,row:t.row}}}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("编辑")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var be=a("VU/8")(ge,fe,!1,function(e){a("aqhl")},"data-v-91ee6b2c",null).exports,he={name:"CategoryAdd",data:function(){var e=this;return{pageStatus:"add",loading:!1,ruleForm:{placeId:"",name:""},rules:{placeId:[{required:!0,message:"请输入景区名称",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"},{validator:function(t,a,r){var o=e;return"edit"===o.pageStatus?r():o.ruleForm.placeId?(o.id="",a&&(a=a.toString().trim())?void o.$axios.get("/admin/category/checkName/?pageStatus="+o.pageStatus+"&name="+a+"&placeId="+o.ruleForm.placeId).then(function(e){return 200===e.status&&200===e.data.code?r():r(new Error(e.data.msg))}).catch(function(e){return r(e)}):r(new Error("不能为空"))):(o.ruleForm.name="",r(new Error("请先填写归属景区")))},trigger:"blur"}]},id:"",setDisabled:!1,placeOption:[]}},beforeMount:function(){this.pageStatus="add",this.id=this.$route.params.id,this.row=this.$route.params.row,this.id&&(this.pageStatus="edit",this.setDisabled=!0,this.ruleForm=this.row,this.placeOption=[{value:this.row.placeId,label:this.row.placeName}])},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={id:t.id||"",placeId:t.ruleForm.placeId,name:t.ruleForm.name};console.log(a);var r="/admin/category/add";t.id&&(r="/admin/category/edit"),t.$axios.post(r,a).then(function(e){200===e.status&&200===e.data.code?(t.$message({type:"success",message:"添加成功"}),t.$router.push({name:"CategoryList"})):t.$message({type:"error",message:"保存失败"})}).catch(function(e){console.log("查询err:"),console.log(e),t.$message({type:"error",message:"保存失败"})})}else t.$message({type:"error",message:"保存失败"})})},placeRemoteMethod:function(e){console.log(e);var t=this;if(e){var a="/admin/place/name/"+e;t.$axios.get(a).then(function(e){if(200===e.data.code){console.log(e.data.data);var a=e.data.data;t.placeOption=a.map(function(e){return{value:e.id,label:e.name}})}else console.log(e.data)}).catch(function(e){console.log(e)})}}}},_e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"归属景区",prop:"placeId"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",disabled:e.setDisabled,placeholder:"输入景区：模糊查询","remote-method":e.placeRemoteMethod,loading:e.loading},model:{value:e.ruleForm.placeId,callback:function(t){e.$set(e.ruleForm,"placeId",t)},expression:"ruleForm.placeId"}},e._l(e.placeOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var ye=a("VU/8")(he,_e,!1,function(e){a("nWmk")},"data-v-1978f978",null).exports,xe={name:"BillingList",data:function(){return{name:"",placeName:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={name:this.name,placeName:this.placeName,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={name:this.name,placeName:this.placeName};this.query(this,e)},del:function(e,t){var a=this;a.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.get("/admin/user/delete/"+e).then(function(e){200===e.status&&200===e.data.code?(a.tableData.splice(t,1),a.$message({type:"success",message:"删除成功!"})):a.$message({type:"error",message:"删除失败"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},formatStatus:function(e,t,a){var r=e.status;return 1===r?"启用":5===r?"禁用":"提交审核"},formatType:function(e,t,a){return 1===e.type?"团体购票":"个体票"},formatName:function(e,t,a){return e.userName?e.userName+"_"+e.mobile:""},query:function(e,t){console.log(t),e.$axios.get("/admin/billing/list",{params:t}).then(function(t){200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},Fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"景区名称"},model:{value:e.placeName,callback:function(t){e.placeName=t},expression:"placeName"}}),e._v(" "),a("el-input",{attrs:{placeholder:"用户姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"placeName",label:"景区名称"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatType,label:"票类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"票分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",formatter:e.formatName,width:"130",label:"旅行社/旅游行业企业/从业者/司机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单价/元"}}),e._v(" "),a("el-table-column",{attrs:{prop:"minpeople",label:"最少人数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"maxpeople",label:"最多人数"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operatorName",label:"操作者"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"更新日期"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"BillingAdd",params:{id:t.row.id,row:t.row}}}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("编辑")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var $e=a("VU/8")(xe,Fe,!1,function(e){a("2DB3")},"data-v-54c35534",null).exports,we={name:"BillingAdd",data:function(){return{pageStatus:"add",loading:!1,ruleForm:{placeId:"",userId:"",type:1,categoryId:1,unit:0,minpeople:"",maxpeople:"",status:1},rules:{placeId:[{required:!0,message:"请输入景区名称",trigger:"blur"}],unit:[{required:!0,message:"请输入单价",trigger:"blur"}],categoryId:[{required:!0,message:"请选择分类",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},id:"",setDisabled:!1,placeOption:[],travelOption:[],optionsType:[{value:1,label:"团体购票"},{value:2,label:"个体票"}],optionsStatus:[{value:1,label:"启用"},{value:5,label:"禁用"}],optionsCategory:[{value:1,label:"门票"}]}},beforeMount:function(){this.pageStatus="add",this.id=this.$route.params.id,this.row=this.$route.params.row,this.id&&(this.pageStatus="edit",this.setDisabled=!0,this.ruleForm=this.row,this.placeOption=[{value:this.row.placeId,label:this.row.placeName}],this.travelOption=[{value:this.row.userId,label:this.row.userName}]),this.placeRemoteMethod()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={id:t.id||"",placeId:t.ruleForm.placeId,userId:t.ruleForm.userId,type:t.ruleForm.type,categoryId:t.ruleForm.categoryId,unit:t.ruleForm.unit,minpeople:t.ruleForm.minpeople||0,maxpeople:t.ruleForm.maxpeople||0,status:t.ruleForm.status};console.log(a);var r="/admin/billing/add";t.id&&(r="/admin/billing/edit"),t.$axios.post(r,a).then(function(e){200===e.status&&200===e.data.code?(t.$message({type:"success",message:"保存成功"}),t.$router.push({name:"BillingList"})):t.$message({type:"error",message:"添加失败"})}).catch(function(e){console.log("查询err:"),console.log(e),t.$message({type:"error",message:"保存失败"})})}else t.$message({type:"error",message:"保存失败"})})},placeRemoteMethod:function(){var e=this;e.$axios.get("/admin/place/getAll").then(function(t){if(200===t.data.code){console.log(t.data.data);var a=t.data.data;e.placeOption=a.map(function(e){return{value:e.id,label:e.name}}),1===e.placeOption.length&&(e.ruleForm.placeId=e.placeOption[0].value)}else console.log(t.data)}).catch(function(e){console.log(e)})},nameRemoteMethod:function(e){console.log(e);var t=this;if(e){var a="/admin/user/name/"+e;t.$axios.get(a).then(function(e){if(200===e.data.code){console.log(e.data.data);var a=e.data.data;t.travelOption=a.map(function(e){return{value:e.id,label:e.name+"_"+e.mobile}})}else console.log(e.data)}).catch(function(e){console.log(e)})}}}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"归属景区",prop:"placeId"}},[a("el-select",{model:{value:e.ruleForm.placeId,callback:function(t){e.$set(e.ruleForm,"placeId",t)},expression:"ruleForm.placeId"}},e._l(e.placeOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"userId"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",disabled:e.setDisabled,placeholder:"旅行社、旅游行业企业/从业者、司机，不填为散客","remote-method":e.nameRemoteMethod,loading:e.loading},model:{value:e.ruleForm.userId,callback:function(t){e.$set(e.ruleForm,"userId",t)},expression:"ruleForm.userId"}},e._l(e.travelOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{disabled:e.setDisabled},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.optionsType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"categoryId"}},[a("el-select",{attrs:{disabled:e.setDisabled},model:{value:e.ruleForm.categoryId,callback:function(t){e.$set(e.ruleForm,"categoryId",t)},expression:"ruleForm.categoryId"}},e._l(e.optionsCategory,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"单价/元",prop:"unit"}},[a("el-input",{model:{value:e.ruleForm.unit,callback:function(t){e.$set(e.ruleForm,"unit",e._n(t))},expression:"ruleForm.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"团购票最少人数",prop:"people"}},[a("el-input",{attrs:{placeholder:"此票价最少人数限制"},model:{value:e.ruleForm.minpeople,callback:function(t){e.$set(e.ruleForm,"minpeople",e._n(t))},expression:"ruleForm.minpeople"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"团购票最多人数",prop:"people"}},[a("el-input",{attrs:{placeholder:"此票价最多人数限制"},model:{value:e.ruleForm.maxpeople,callback:function(t){e.$set(e.ruleForm,"maxpeople",e._n(t))},expression:"ruleForm.maxpeople"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.optionsStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var De=a("VU/8")(we,ke,!1,function(e){a("d0YA")},"data-v-54ddeaa0",null).exports,Ie={name:"CouponAdd",data:function(){return{loading:!1,ruleForm:{name:"",introduce:"",money:"",startTime:"",endTime:"",status:""},rules:{name:[{required:!0,message:"请输入活动标题",trigger:"blur"}],introduce:[{required:!0,message:"请输入活动介绍",trigger:"blur"}],money:[{required:!0,message:"请输入金额",trigger:"blur"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"blur"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},id:"",optionsStatus:[{value:1,label:"启用"},{value:5,label:"禁用"}]}},beforeMount:function(){this.id=this.$route.params.id;var e=this.$route.params.row;this.id&&(this.ruleForm=e)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={id:t.id||"",name:t.ruleForm.name,introduce:t.ruleForm.introduce,money:t.ruleForm.money,startTime:t.ruleForm.startTime,endTime:t.ruleForm.endTime,status:t.ruleForm.status};console.log(a);var r="/admin/coupon/add";t.id&&(r="/admin/coupon/edit"),t.$axios.post(r,a).then(function(e){200===e.status&&200===e.data.code?(t.$message({type:"success",message:"保存成功"}),t.$router.push({name:"CouponList"})):t.$message({type:"error",message:"添加失败"})}).catch(function(e){console.log("查询err:"),console.log(e),t.$message({type:"error",message:"保存失败"})})}else t.$message({type:"error",message:"保存失败"})})}}},Se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"活动标题",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",e._n(t))},expression:"ruleForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠金额/元",prop:"money"}},[a("el-input",{model:{value:e.ruleForm.money,callback:function(t){e.$set(e.ruleForm,"money",e._n(t))},expression:"ruleForm.money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.ruleForm.startTime,callback:function(t){e.$set(e.ruleForm,"startTime",t)},expression:"ruleForm.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.ruleForm.endTime,callback:function(t){e.$set(e.ruleForm,"endTime",t)},expression:"ruleForm.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"所有活动只能一个处于启用状态"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.optionsStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"活动介绍",prop:"introduce"}},[a("el-input",{attrs:{type:"textarea",rows:15},model:{value:e.ruleForm.introduce,callback:function(t){e.$set(e.ruleForm,"introduce",t)},expression:"ruleForm.introduce"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var Pe=a("VU/8")(Ie,Se,!1,function(e){a("2xmG")},"data-v-dfe08b54",null).exports,Ne={name:"CouponList",data:function(){return{couponId:"",name:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={couponId:this.couponId,name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={couponId:this.couponId,name:this.name};this.query(this,e)},formatStatus:function(e,t,a){var r="",o=e.status;return 1===o?r="启用":5===o&&(r="禁用"),r},query:function(e,t){console.log(t),e.$axios.get("/admin/coupon/list",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"活动编号"},model:{value:e.couponId,callback:function(t){e.couponId=t},expression:"couponId"}}),e._v(" "),a("el-input",{attrs:{placeholder:"活动名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",width:"120",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"introduce",width:"260",label:"介绍"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",width:"90",label:"优惠金额/元"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",width:"50",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operatorName",label:"操作者"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{name:"CouponAdd",params:{id:t.row.id,row:t.row}}}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("编辑")])],1)]}}])})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var qe=a("VU/8")(Ne,Te,!1,function(e){a("YqAt")},"data-v-482905c1",null).exports,Ae={name:"CouponUserList",data:function(){return{mobile:"",name:"",tableData:[],totalNum:0}},methods:{getTablePageData:function(e){var t={mobile:this.mobile,name:this.name,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={mobile:this.mobile,name:this.name};this.query(this,e)},formatStatus:function(e,t,a){var r="",o=e.status;return 1===o?r="未使用":2===o&&(r="已使用"),r},query:function(e,t){console.log(t),e.$axios.get("/admin/coupon/usercouponlist",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},Ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"手机号"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),e._v(" "),a("el-input",{attrs:{placeholder:"活动名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"优惠名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"couponId",label:"优惠活动编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ctime",label:"参与时间"}})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var Le=a("VU/8")(Ae,Ce,!1,function(e){a("+Cxe")},"data-v-acae22c8",null).exports,Oe={name:"OrderList",data:function(){return{dialogTableVisible:!1,sourceName:"",orderId:"",tableData:[],totalNum:0,gridData:[]}},methods:{getTablePageData:function(e){var t={sourceName:this.sourceName,orderId:this.orderId,currentPage:e.currentPage,pageSize:e.pageSize};this.query(this,t)},search:function(){var e={sourceName:this.sourceName,orderId:this.orderId};this.query(this,e)},formatStatus:function(e,t,a){var r="",o=e.payStatus;return 1===o?r="未支付":5===o?r="支付中":10===o?r="支付成功":15===o?r="支付失败":20===o?r="已申请退款":25===o?r="退款成功":26===o?r="退款失败":30===o?r="失效":35===o&&(r="实际支付金额不对"),r},formatType:function(e,t,a){return 1===e.type?"线上":"线下"},formatTicketType:function(e,t,a){return 1===e.type?"团体购票":"个体票"},formatpayWay:function(e,t,a){var r="",o=e.payWay;return 1===o?r="预充值":3===o?r="微信":5===o?r="现金":7===o&&(r="支付宝"),r},query:function(e,t){console.log(t),e.$axios.get("/admin/order/list",{params:t}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?(e.tableData=t.data.data.tableData,e.totalNum=t.data.data.totalNum):(e.tableData=[],e.totalNum=0)}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.totalNum=0})}},mounted:function(){this.query(this,{})}},Ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-input",{attrs:{placeholder:"订单号"},model:{value:e.orderId,callback:function(t){e.orderId=t},expression:"orderId"}}),e._v(" "),a("el-input",{attrs:{placeholder:"二维码来源"},model:{value:e.sourceName,callback:function(t){e.sourceName=t},expression:"sourceName"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatType,label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sourceName",label:"二维码来源"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sourceMobile",label:"来源者手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"购买者名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"购买者手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单价/元"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"张数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"票总价/元"}}),e._v(" "),a("el-table-column",{attrs:{prop:"discountFee",label:"优惠/元"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualFee",label:"实际支付/元"}}),e._v(" "),a("el-table-column",{attrs:{prop:"couponId",label:"优惠券编号"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatStatus,label:"支付状态"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatpayWay,label:"支付方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payNum",label:"微信流水号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reserveDate",label:"预约日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"enterTime",label:"入园时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"创建日期"}})],1),e._v(" "),a("pagination",{attrs:{"total-num":e.totalNum},on:{getPageData:e.getTablePageData}})],1)},staticRenderFns:[]};var ze=a("VU/8")(Oe,Ue,!1,function(e){a("S6Ly")},"data-v-7f7d6721",null).exports,Ee={name:"OrderAdd",data:function(){return{pageStatus:"add",loading:!1,team:!0,individual:!1,ruleForm:{placeId:"",userId:"",categoryId:1,reserveDate:new Date,payWay:3,unit:"",totalPrice:0,number:""},rules:{placeId:[{required:!0,message:"请输入归属景区",trigger:"blur"}],userId:[{required:!0,message:"请输入旅行社名称",trigger:"blur"}],payWay:[{required:!0,message:"请选择支付方式",trigger:"blur"}],unit:[{required:!0,message:"请输入单价",trigger:"blur"}],number:[{required:!0,message:"请输入张数",trigger:"blur"}],reserveDate:[{required:!0,message:"请输入预约日期",trigger:"blur"}]},id:"",setDisabled:!1,placeOption:[],travleOption:[],optionsCategory:[{value:1,label:"门票"}],optionsPayWay:[{value:3,label:"微信"},{value:5,label:"现金"},{value:7,label:"支付宝"}]}},beforeMount:function(){this.pageStatus="add",this.id=this.$route.params.id,this.row=this.$route.params.row,console.log(this.row),this.id&&(this.pageStatus="edit",this.setDisabled=!0,this.ruleForm=this.row,this.placeOption=[{value:this.row.placeId,label:this.row.placeName}],this.travleOption=[{value:this.row.userId,label:this.row.userName}]),this.placeRemoteMethod()},computed:{totalPrice:function(){return this.ruleForm.totalPrice=this.ruleForm.unit*this.ruleForm.number,this.ruleForm.totalPrice}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={id:t.id||"",placeId:t.ruleForm.placeId,userId:t.ruleForm.userId,categoryId:t.ruleForm.categoryId,unit:t.ruleForm.unit,reserveDate:t.ruleForm.reserveDate,number:t.ruleForm.number||0,totalPrice:t.ruleForm.totalPrice||0,payWay:t.ruleForm.payWay};console.log(a);var r="/admin/order/add";t.id&&(r="/admin/order/edit"),t.$axios.post(r,a).then(function(e){200===e.status&&200===e.data.code?(t.$message({type:"success",message:"保存成功"}),t.$router.push({name:"OrderList"})):t.$message({type:"error",message:"添加失败"})}).catch(function(e){console.log("查询err:"),console.log(e),t.$message({type:"error",message:"保存失败"})})}else t.$message({type:"error",message:"保存失败"})})},placeRemoteMethod:function(){var e=this;e.$axios.get("/admin/place/getAll").then(function(t){if(200===t.data.code){console.log(t.data.data);var a=t.data.data;e.placeOption=a.map(function(e){return{value:e.id,label:e.name}}),1===e.placeOption.length&&(e.ruleForm.placeId=e.placeOption[0].value)}else console.log(t.data)}).catch(function(e){console.log(e)})},travelRemoteMethod:function(e){console.log(e);var t=this;if(!t.ruleForm.placeId)return t.$message({type:"error",message:"请先选择景区"});if(e){var a="/admin/user/orgName/"+e;t.$axios.get(a).then(function(e){if(200===e.data.code){console.log(e.data.data);var a=e.data.data;t.travleOption=a.map(function(e){return{value:e.id,label:e.name}})}else console.log(e.data)}).catch(function(e){console.log(e)})}},formatType:function(e,t,a){var r=e.type,o=e.people;return 1===r?"团体购票 至少"+o+"张":"个体票"},getNewBill:function(){var e=this,t=e.ruleForm.placeId,a=e.ruleForm.userId;if(t)if(a){var r={placeId:t,userId:a};e.$axios.get("/admin/billing/userBilling",{params:r}).then(function(t){console.log("查询ok"),200===t.status&&200===t.data.code?e.tableData=t.data.data.tableData:(e.tableData=[],e.$message({type:"error",message:"获取选票信息出错！"}))}).catch(function(t){console.log("查询err: "+t),e.tableData=[],e.$message({type:"error",message:"获取选票信息出错！"})})}else e.$message({type:"error",message:"请选旅行社！"});else e.$message({type:"error",message:"请选景区！"})}}},Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"归属景区",prop:"placeId"}},[a("el-select",{model:{value:e.ruleForm.placeId,callback:function(t){e.$set(e.ruleForm,"placeId",t)},expression:"ruleForm.placeId"}},e._l(e.placeOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"旅行社名称",prop:"userId"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",disabled:e.setDisabled,placeholder:"输入旅行社名称模糊查询","remote-method":e.travelRemoteMethod,loading:e.loading},model:{value:e.ruleForm.userId,callback:function(t){e.$set(e.ruleForm,"userId",t)},expression:"ruleForm.userId"}},e._l(e.travleOption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"预约入园日期",prop:"reserveDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间"},model:{value:e.ruleForm.reserveDate,callback:function(t){e.$set(e.ruleForm,"reserveDate",t)},expression:"ruleForm.reserveDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式",prop:"payWay"}},[a("el-select",{model:{value:e.ruleForm.payWay,callback:function(t){e.$set(e.ruleForm,"payWay",t)},expression:"ruleForm.payWay"}},e._l(e.optionsPayWay,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"票分类",prop:"categoryId"}},[a("el-select",{attrs:{disabled:!0},model:{value:e.ruleForm.categoryId,callback:function(t){e.$set(e.ruleForm,"categoryId",t)},expression:"ruleForm.categoryId"}},e._l(e.optionsCategory,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"票单价",prop:"unit"}},[a("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.unit,callback:function(t){e.$set(e.ruleForm,"unit",t)},expression:"ruleForm.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"票张数",prop:"number"}},[a("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.number,callback:function(t){e.$set(e.ruleForm,"number",t)},expression:"ruleForm.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"票总价"}},[a("span",{staticClass:"allfre"},[e._v(e._s(e.totalPrice)+" 元")])]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var Me=a("VU/8")(Ee,Re,!1,function(e){a("alye")},"data-v-1c1ed0b0",null).exports,Be={name:"OrderList",data:function(){return{orderId:"",loading:!1,order:{}}},filters:{formatStatus:function(e){var t="";return 1===e?t="未支付":5===e?t="支付中":10===e?t="支付成功":15===e?t="支付失败":20===e?t="已申请退款":25===e?t="退款成功":26===e?t="退款失败":30===e?t="失效":35===e&&(t="实际支付金额不对"),t},formatType:function(e){var t="";return 1===e?t="线上":2===e&&(t="线下"),t},formatTicketType:function(e){return 1===e?"团体购票":"个体票"},formatpayWay:function(e){var t="";return 1===e?t="预充值":3===e?t="微信":5===e?t="现金":7===e&&(t="支付宝"),t}},methods:{search:function(){if(this.orderId){var e={orderId:this.orderId};this.query(this,e)}else console.log("orderId为空",this.orderId)},query:function(e,t){console.log(t),e.loading=!0,e.$axios.get("/admin/order/id",{params:t}).then(function(t){console.log(t.data),e.loading=!1,200===t.status&&200===t.data.code?t.data.data&&t.data.data.length>0?e.order=t.data.data[0]:(e.order={},e.$message({type:"error",message:"未查到信息"})):(e.order={},e.$message({type:"error",message:t.data.msg}))}).catch(function(t){console.log("查询err: "+t),e.loading=!1,e.order={},e.$message({type:"error",message:t})})},orderPass:function(){var e=this;if(e.order.enterTime)e.$message({type:"error",message:"已入园"});else if(e.order.id){var t={orderId:e.order.id};e.$axios.get("/admin/order/pass",{params:t}).then(function(t){200===t.status&&200===t.data.code?(e.$message({type:"success",message:"验票成功"}),e.order={},e.orderId="",e.$refs.inputRef.$el.children[0].focus()):e.$message({type:"error",message:t.data.msg||"后台出错"})}).catch(function(t){console.log("查询err: "+t),e.$message({type:"error",message:t||"后台出错"})})}else e.$refs.inputRef.$el.children[0].focus()}}},Ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("p",{staticClass:"tip"},[e._v("调成英文输入法，鼠标定位到输入框中，开始用扫码枪扫码")]),e._v(" "),a("el-input",{ref:"inputRef",attrs:{clearable:"",placeholder:"订单号，调成英文输入法，鼠标点击此处，再用扫码枪"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.search(t):null}},model:{value:e.orderId,callback:function(t){e.orderId=e._n(t)},expression:"orderId"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-check"},on:{click:e.orderPass}},[e._v("验票通过")])],1),e._v(" "),a("hr"),e._v(" "),a("table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table"},[a("tr",[a("td",[e._v("入园时间")]),e._v(" "),a("td",[e._v(e._s(e.order.enterTime))])]),e._v(" "),a("tr",[a("td",[e._v("预约日期")]),e._v(" "),a("td",[e._v(e._s(e.order.reserveDate))])]),e._v(" "),a("tr",[a("td",[e._v("购买者手机")]),e._v(" "),a("td",[e._v(e._s(e.order.mobile))])]),e._v(" "),a("tr",[a("td",[e._v("票总价/元")]),e._v(" "),a("td",[e._v(e._s(e.order.totalPrice))])]),e._v(" "),a("tr",[a("td",[e._v("实际支付/元")]),e._v(" "),a("td",[e._v(e._s(e.order.actualFee))])]),e._v(" "),a("tr",[a("td",[e._v("单价/元")]),e._v(" "),a("td",[e._v(e._s(e.order.unit))])]),e._v(" "),a("tr",[a("td",[e._v("张数")]),e._v(" "),a("td",[e._v(e._s(e.order.number))])]),e._v(" "),a("tr",[a("td",[e._v("优惠/元")]),e._v(" "),a("td",[e._v(e._s(e.order.discountFee))])]),e._v(" "),a("tr",[a("td",[e._v("优惠券编号")]),e._v(" "),a("td",[e._v(e._s(e.order.couponId))])]),e._v(" "),a("tr",[a("td",[e._v("订单号")]),e._v(" "),a("td",[e._v(e._s(e.order.id))])]),e._v(" "),a("tr",[a("td",[e._v("支付状态")]),e._v(" "),a("td",[e._v(e._s(e._f("formatStatus")(e.order.status)))])]),e._v(" "),a("tr",[a("td",[e._v("支付方式")]),e._v(" "),a("td",[e._v(e._s(e._f("formatpayWay")(e.order.payWay)))])]),e._v(" "),a("tr",[a("td",[e._v("微信流水号")]),e._v(" "),a("td",[e._v(e._s(e.order.payNum))])]),e._v(" "),a("tr",[a("td",[e._v("类型")]),e._v(" "),a("td",[e._v(e._s(e._f("formatType")(e.order.type)))])]),e._v(" "),a("tr",[a("td",[e._v("二维码来源")]),e._v(" "),a("td",[e._v(e._s(e.order.sourceName))])]),e._v(" "),a("tr",[a("td",[e._v("来源者手机")]),e._v(" "),a("td",[e._v(e._s(e.order.sourceMobile))])]),e._v(" "),a("tr",[a("td",[e._v("创建日期")]),e._v(" "),a("td",[e._v(e._s(e.order.time))])])])],1)},staticRenderFns:[]};var We=a("VU/8")(Be,Ve,!1,function(e){a("18qH")},"data-v-30f87611",null).exports,je=a("XMw0"),He=a.n(je),Ye={name:"",data:function(){return{loading:!1,pickerOptions2:{shortcuts:[{text:"最近7天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近30天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近90天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},createdAt:[],charts:"",placeId:"",placeIdOptions:[]}},methods:{search:function(){this.query()},insertOption:function(e){var t={tooltip:{trigger:"axis"},title:{text:""},xAxis:{type:"category",boundaryGap:!1,data:e.map(function(e){return e.time})},yAxis:{type:"value",name:"元"},series:[{type:"line",data:e.map(function(e){return e.totalPrice||0})}]};this.lineOption=t},draw:function(e){var t=this.lineOption;this.charts=He.a.init(document.getElementById(e)),this.charts.setOption(t),window.onresize=function(){He.a.init(document.getElementById(e)).resize()}},query:function(){var e=this,t=e.createdAt,a=e.placeId;if(a&&0!==t.length){var r={createAt:t,placeId:a};console.log(r),e.$axios.get("/admin/order/income",{params:r}).then(function(t){200===t.data.code?(console.log(t.data.data),e.insertOption(t.data.data),e.draw("echart1")):e.$message.error(t.msg)}).catch(function(t){console.log("查询err: "+t),e.$message.error(t)})}else e.$message.error("请选择时间段和景区")}},mounted:function(){var e=this,t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.createdAt=[a,t],e.$axios.get("/admin/place/getAll").then(function(t){if(200===t.data.code){console.log(t.data.data);var a=t.data.data;e.placeIdOptions=a.map(function(e){return{value:e.id,label:e.name}}),1===e.placeIdOptions.length&&(e.placeId=e.placeIdOptions[0].value)}else e.$message.error(t.msg)}).catch(function(t){console.log("查询err: "+t),e.$message.error(t)})}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-date-picker",{attrs:{type:"daterange",clearable:!1,"unlink-panels":"","range-separator":"-",editable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2},model:{value:e.createdAt,callback:function(t){e.createdAt=t},expression:"createdAt"}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择景区"},model:{value:e.placeId,callback:function(t){e.placeId=t},expression:"placeId"}},e._l(e.placeIdOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-tag",[e._v("统计指标：按订单创建时间且支付成功")]),e._v(" "),a("div",{style:{width:"100%",height:"300px"},attrs:{id:"echart1"}})],1)},staticRenderFns:[]};var Qe=a("VU/8")(Ye,Ge,!1,function(e){a("aab7")},"data-v-73f912bc",null).exports,Ze={name:"",data:function(){return{loading:!1,pickerOptions2:{shortcuts:[{text:"最近7天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近30天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近90天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},createdAt:[],charts:"",userId:"",userIdOptions:[]}},methods:{search:function(){this.query()},insertOption:function(e){var t={tooltip:{trigger:"axis"},title:{text:""},xAxis:{type:"category",boundaryGap:!1,data:e.map(function(e){return e.time})},yAxis:{type:"value",name:"张"},series:[{type:"line",data:e.map(function(e){return e.number||0})}]};this.lineOption=t},draw:function(e){var t=this.lineOption;this.charts=He.a.init(document.getElementById(e)),this.charts.setOption(t),window.onresize=function(){He.a.init(document.getElementById(e)).resize()}},query:function(){var e=this,t=e.createdAt,a=e.userId;if(a&&0!==t.length){var r={createAt:t,userId:a};console.log(r),e.$axios.get("/admin/order/merchant",{params:r}).then(function(t){200===t.data.code?(console.log(t.data.data),e.insertOption(t.data.data),e.draw("echart1")):e.$message.error(t.msg)}).catch(function(t){console.log("查询err: "+t),e.$message.error(t)})}else e.$message.error("请选择时间段和景区")}},mounted:function(){var e=this,t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.createdAt=[a,t],e.$axios.get("/admin/user/merchant").then(function(t){if(200===t.data.code){console.log(t.data.data);var a=t.data.data;e.userIdOptions=a.map(function(e){return{value:e.id,label:e.name}})}else e.$message.error(t.msg)}).catch(function(t){console.log("查询err: "+t),e.$message.error(t)})}},Ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-date-picker",{attrs:{type:"daterange",clearable:!1,"unlink-panels":"","range-separator":"-",editable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2},model:{value:e.createdAt,callback:function(t){e.createdAt=t},expression:"createdAt"}}),e._v(" "),a("el-select",{attrs:{placeholder:"青选择商家或导游"},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}},e._l(e.userIdOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-tag",[e._v("统计指标：按订单预约入园时间且支付成功")]),e._v(" "),a("div",{style:{width:"100%",height:"300px"},attrs:{id:"echart1"}})],1)},staticRenderFns:[]};var Je=a("VU/8")(Ze,Ke,!1,function(e){a("tczm")},"data-v-53b3cad0",null).exports,Xe={name:"",data:function(){return{loading:!1,pickerOptions2:{shortcuts:[{text:"最近7天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近30天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近90天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},createdAt:[],charts:"",placeId:"",placeIdOptions:[]}},methods:{search:function(){this.query()},insertOption:function(e){var t={tooltip:{trigger:"axis"},title:{text:""},xAxis:{type:"category",boundaryGap:!1,data:e.map(function(e){return e.time})},yAxis:{type:"value",name:"位"},series:[{type:"line",data:e.map(function(e){return e.number||0})}]};this.lineOption=t},draw:function(e){var t=this.lineOption;this.charts=He.a.init(document.getElementById(e)),this.charts.setOption(t),window.onresize=function(){He.a.init(document.getElementById(e)).resize()}},query:function(){var e=this,t=e.createdAt,a=e.placeId;if(a&&0!==t.length){var r={createAt:t,placeId:a};console.log(r),e.$axios.get("/admin/order/people",{params:r}).then(function(t){200===t.data.code?(console.log(t.data.data),e.insertOption(t.data.data),e.draw("echart1")):e.$message.error(t.msg)}).catch(function(t){console.log("查询err: "+t),e.$message.error(t)})}else e.$message.error("请选择时间段和景区")}},mounted:function(){var e=this,t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.createdAt=[a,t],e.$axios.get("/admin/place/getAll").then(function(t){if(200===t.data.code){console.log(t.data.data);var a=t.data.data;e.placeIdOptions=a.map(function(e){return{value:e.id,label:e.name}}),1===e.placeIdOptions.length&&(e.placeId=e.placeIdOptions[0].value)}else e.$message.error(t.msg)}).catch(function(t){console.log("查询err: "+t),e.$message.error(t)})}},et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-date-picker",{attrs:{type:"daterange",clearable:!1,"unlink-panels":"","range-separator":"-",editable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2},model:{value:e.createdAt,callback:function(t){e.createdAt=t},expression:"createdAt"}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择景区"},model:{value:e.placeId,callback:function(t){e.placeId=t},expression:"placeId"}},e._l(e.placeIdOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("hr"),e._v(" "),a("el-tag",[e._v("统计指标：按订单实际入园时间且支付成功")]),e._v(" "),a("div",{style:{width:"100%",height:"300px"},attrs:{id:"echart1"}})],1)},staticRenderFns:[]};var tt=a("VU/8")(Xe,et,!1,function(e){a("5kxi")},"data-v-1f65b07a",null).exports;o.default.use(b.a);var at=new b.a({linkActiveClass:"active",routes:[{path:"/login",name:"Login",component:P},{name:"Main",path:"/",component:$,children:[{path:"/index",name:"Index",component:D},{path:"PlaceList",name:"PlaceList",component:le},{path:"PlaceAdd",name:"PlaceAdd",component:ie},{path:"PlaceUserList",name:"PlaceUserList",component:me},{path:"PlaceUserAdd",name:"PlaceUserAdd",component:ve},{path:"BillingList",name:"BillingList",component:$e},{path:"BillingAdd",name:"BillingAdd",component:De},{path:"CategoryList",name:"CategoryList",component:be},{path:"CategoryAdd",name:"CategoryAdd",component:ye},{path:"GuideUserList",name:"GuideUserList",component:q},{path:"MerchantUserList",name:"MerchantUserList",component:L},{path:"DriverUserList",name:"DriverUserList",component:z},{path:"TravelUserList",name:"TravelUserList",component:M},{path:"VisitorUserList",name:"VisitorUserList",component:W},{path:"TravelUserAdd",name:"TravelUserAdd",component:Y},{path:"PrepayList",name:"PrepayList",component:Z},{path:"PrepayAdd",name:"PrepayAdd",component:X},{path:"OrderList",name:"OrderList",component:ze},{path:"OrderAdd",name:"OrderAdd",component:Me},{path:"checkTicket",name:"checkTicket",component:We},{path:"CouponList",name:"CouponList",component:qe},{path:"CouponAdd",name:"CouponAdd",component:Pe},{path:"CouponUserList",name:"CouponUserList",component:Le},{path:"Merchant",name:"Merchant",component:Je},{path:"Income",name:"Income",component:Qe},{path:"People",name:"People",component:tt},{path:"Password",name:"Password",component:ae}]}]});at.beforeEach(function(e,t,a){var r=e.name;localStorage.getItem("token")?"Login"===r?a("/index"):a():"Login"===r?a():a({name:"Login"})});var rt=at;f.a.defaults.timeout=5e3,f.a.defaults.withCredentials=!0,f.a.interceptors.request.use(function(e){return d.state.token&&(e.headers.Authorization="Bearer "+d.state.token),e},function(e){return v.a.reject(e)}),f.a.interceptors.response.use(function(e){return e},function(e){if(e.response)switch(console.log(e.response.status),e.response.status){case 401:d.commit("logout"),rt.push({name:"Login"})}return v.a.reject(e.response.data)});var ot=f.a,lt=a("jPwE"),nt=a.n(lt),st=(a("FVuk"),{name:"App",created:function(){if(window.localStorage.getItem("token")){var e={id:localStorage.getItem("id"),name:localStorage.getItem("name"),mobile:localStorage.getItem("mobile"),token:localStorage.getItem("token")};console.log("router,刷新",e),this.$store.commit("login",e)}}}),it={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view")},staticRenderFns:[]},ut=a("VU/8")(st,it,!1,null,null,null).exports,ct={data:function(){return{pickerOptions0:{disabledDate:function(e){return e.getTime()>Date.now()}},value:""}},methods:{getDate:function(e){this.$emit("datePick",e)}}},mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",editable:!1,format:e.yyyy-e.MM-e.dd,"value-format":e.yyyy-e.MM-e.dd,placeholder:"选择日期","picker-options":e.pickerOptions0},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},staticRenderFns:[]};var dt=a("VU/8")(ct,mt,!1,function(e){a("5ip+")},"data-v-4b7c6918",null).exports,pt={name:"Pagination",props:["totalNum"],methods:{handleSizeChange:function(e){console.log("每页"+e+"条"),this.pageSize=e,this.$emit("getPageData",{currentPage:this.currentPage,pageSize:e})},handleCurrentChange:function(e){console.log("当前页："+e),this.currentPage=e,this.$emit("getPageData",{currentPage:e,pageSize:this.pageSize})}},data:function(){return{currentPage:1,pageSize:10}}},vt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":this.currentPage,"page-sizes":[10,20,30,40,50],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.totalNum},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)},staticRenderFns:[]};var gt=a("VU/8")(pt,vt,!1,function(e){a("TbQe")},"data-v-723864f3",null).exports;o.default.use(nt.a,{size:"small"}),o.default.component("date-picker",dt),o.default.component("pagination",gt),o.default.prototype.$axios=ot,o.default.config.productionTip=!1,new o.default({el:"#app",store:d,router:rt,template:"<App/>",components:{App:ut}})},RIiA:function(e,t){},S6Ly:function(e,t){},TbQe:function(e,t){},UjVw:function(e,t){},V17K:function(e,t){},YCYT:function(e,t){},YqAt:function(e,t){},ZcEO:function(e,t){},Zoxs:function(e,t){},aab7:function(e,t){},alye:function(e,t){},aqhl:function(e,t){},cMjv:function(e,t){},cgPv:function(e,t){},d0YA:function(e,t){},hgqO:function(e,t){},"jSB/":function(e,t){},"jt/8":function(e,t){},mUbh:function(e,t){},nWmk:function(e,t){},"r/RM":function(e,t){},tczm:function(e,t){},uP7M:function(e,t){},vYTE:function(e,t){},wB4W:function(e,t){},wBCO:function(e,t){},wjH3:function(e,t){},xFaE:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f4d54b50b653a724f88a.js.map